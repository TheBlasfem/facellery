(function(e,t){e(document).ready(function(){$("#facellery").css("width","100%");$("#facellery img").css({width:"20%","float":"left",padding:"5px"});var n=$("#facellery").clone();var r=n.children();$(r,"img").each(function(){$(this).attr("style","")});var i=$(r,"img").addClass("img_slide").addClass("slide");var s=$("#facellery img").size();var o=$("body").css("background");$("body").append('<div id="opacityfacellery"></div><section id="facellerywrap"><div style="display:none;" class="img_slides_wrap slides_wrap wrap"></div></section>');$(".img_slides_wrap").append(i);$(".img_slides_wrap").append('<div class="flecleft"></div><div class="flecright"></div><div class="facellerytitle"></div>');var u=e(".slides_wrap"),a=u.find(".img_slide"),f=a.filter(".active"),l=a.index(f),c=u.width();var h=$(window).height();$(".img_slides_wrap").css("height",h);$("#facellery img").click(function(){var e=$(this).index();$(".img_slides_wrap img").eq(e).addClass("active");$("#facellerywrap").addClass("display");$("#facellerywrap").show();$("#facellery").hide();$("#opacityfacellery").css("background","black");$(document).scrollTop(0);l=$(".img_slides_wrap img.active").index();var n=$(".img_slides_wrap img").eq(e).data("title");if(n!=t){$(".facellerytitle").removeClass("disabled").html(n)}else{$(".facellerytitle").addClass("disabled")}$(".img_slides_wrap").show();if(e==0){$(".flecleft").addClass("disabled")}else if(e==s-1){$(".flecright").addClass("disabled")}v()});var p=function(){if($(".img_slides_wrap img").hasClass("active")){var e=$(".img_slides_wrap img.active").index();var n=$(".img_slides_wrap img").eq(e-1).data("title");if(e>0){$(".img_slides_wrap img.active").removeClass("active").prev().addClass("active");if(n!=t){var r=$(".img_slides_wrap img.active").height();var i=h/2+r/2;var s=h-i;$(".facellerytitle").css("bottom",s);$(".facellerytitle").removeClass("disabled").html(n)}else{$(".facellerytitle").addClass("disabled")}}if(e<=1){$(".flecleft").addClass("disabled")}else{$(".flecleft,.flecright").removeClass("disabled")}l=$(".img_slides_wrap img.active").index()}};var d=function(){if($(".img_slides_wrap img").hasClass("active")){var e=$(".img_slides_wrap img.active").index();var n=$(".img_slides_wrap img").eq(e+1).data("title");if(e<s-1){$(".img_slides_wrap img.active").removeClass("active").next().addClass("active");if(n!=t){var r=$(".img_slides_wrap img.active").height();var i=h/2+r/2;var o=h-i;$(".facellerytitle").css("bottom",o);$(".facellerytitle").removeClass("disabled").html(n)}else{$(".facellerytitle").addClass("disabled")}}if(e>=s-2){$(".flecright").addClass("disabled")}else{$(".flecright,.flecleft").removeClass("disabled")}l=$(".img_slides_wrap img.active").index()}};$("body").keydown(function(e){if(e.keyCode==37){p()}else if(e.keyCode==39){d()}});$(".flecleft").click(function(){p()});$(".flecright").click(function(){d()});$("body,#facellery,.img_slides_wrap").click(function(){if($("#facellerywrap").hasClass("display")){$("#facellerywrap").hide();$("#facellerywrap").removeClass("display");$(".img_slides_wrap img").removeClass("active");$("#opacityfacellery").css("background","none").css("height","0");$("#facellery").show();$(".flecleft,.flecright").removeClass("disabled")}});$("#facellery img,.img_slides_wrap img,.flecleft,.flecright,.facellerytitle").click(function(e){e.stopPropagation()});var v=function(){h=$(window).height();var e=$(document).height();if($("#facellerywrap").hasClass("display")){$("#opacityfacellery").css("height",e)}var t=$(".img_slides_wrap img.active").height();var n=h/2+t/2;var r=h-n;$(".facellerytitle").css("bottom",r);$(".img_slides_wrap img").each(function(){var e=$(this).height();if(e>h){$(this).css({top:"0"})}else{diffheight=h/2-e/2;$(this).css({top:diffheight})}})};$(window).on("resize",function(){v()});a.on("swipeleft",function(e){if(l===a.length-1){return}else{a.eq(l+1).trigger("activate")}}).on("swiperight",function(e){if(l===0){return}else{a.eq(l-1).trigger("activate")}}).on("activate",function(t){a.removeClass("active");e(t.target).addClass("active");var n=$(".img_slides_wrap img.active").index();var r=$(".img_slides_wrap img").eq(n).data("title");var i=$(".img_slides_wrap img.active").height();var o=h/2+i/2;var u=h-o;$(".facellerytitle").css("bottom",u);$(".facellerytitle").html(r);if(n==s-1){$(".flecright").addClass("disabled")}else if(n==0){$(".flecleft").addClass("disabled")}else{$(".flecright,.flecleft").removeClass("disabled")}l=a.index(t.target)}).on("movestart",function(e){if(e.distX>e.distY&&e.distX<-e.distY||e.distX<e.distY&&e.distX>-e.distY){e.preventDefault();return}u.addClass("notransition")}).on("move",function(e){var t=100*e.distX/c;if(e.distX<0){if(a[l+1]){$(a[l]).css("left",t+"%");$(a[l+1]).css("left",t+100+"%")}else{$(a[l]).css("left",t/4+"%")}}if(e.distX>0){if(a[l-1]){$(a[l]).css("left",t+"%");$(a[l-1]).css("left",t-100+"%")}else{$(a[l]).css("left",t/5+"%")}}}).on("moveend",function(e){u.removeClass("notransition");$(a[l]).css("left","");if(a[l+1]){$(a[l+1]).css("left","")}if(a[l-1]){$(a[l-1]).css("left","")}});e(document).on("click",".slide_button",function(t){var n=t.currentTarget.hash;e(n).trigger("activate");t.preventDefault()})})})(jQuery)